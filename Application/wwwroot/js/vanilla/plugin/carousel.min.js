(function(n,t){typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t():n.carousel=t()})(this,function(){function t(n,t){this.index=0;this.width=0;this.locked=!1;this.stopped=!1;this.slideshow=5e3;this.distance=200;this.positionXEnd=0;this.positionXStart=0;this.mobile=it();this.carousel=n;this.options=tt({},{hide:!0,loop:!0,arrow:!0,rewind:!1,draggable:!0,slideshow:!1,resizeable:!0,control:"number"},t);this.init()}function f(){this.items=this.carousel.querySelectorAll(".item");let n=document.createElement("div");n.className="carousel-content";this.carouselItems=document.createElement("div");this.carouselItems.className="carousel-items";this.controlContent=document.createElement("div");this.controlContent.className="carousel-control";let t=this;if([].forEach.call(this.items,function(n){t.carouselItems.appendChild(n)}),n.appendChild(this.carouselItems),this.carousel.innerHTML="",this.carousel.appendChild(n),n.appendChild(this.controlContent),this.options.loop){let n=this.items[this.carouselItems.children.length-1].cloneNode(!0);n.className="item-clone";let t=this.items[0].cloneNode(!0);t.className="item-clone";this.carouselItems.appendChild(t);this.carouselItems.insertBefore(n,this.carouselItems.firstElementChild)}this.options.control!==null&&(this.control=document.createElement("div"),this.control.className="control",this.controlContent.appendChild(this.control));this.options.arrow&&(this.arrowRight=document.createElement("div"),this.arrowRight.className="control-right",this.arrowLeft=document.createElement("div"),this.arrowLeft.className="control-left",this.controlContent.appendChild(this.arrowLeft),this.controlContent.appendChild(this.arrowRight));this.options.hide||this.controlContent.classList.add("active")}function e(){this._events={arrowClick:s.bind(this),windowResize:h.bind(this),controlClick:c.bind(this),carouselDrag:a.bind(this),carouselClick:l.bind(this),transitionEnd:b.bind(this),carouselMouseUp:y.bind(this),carouselMouseMove:v.bind(this),carouselMouseOver:p.bind(this),carouselMouseLeave:w.bind(this)};this.options.resizeable&&window.addEventListener("resize",this._events.windowResize);this.options.arrow&&(this.arrowLeft.addEventListener("click",this._events.arrowClick.bind(this,"left")),this.arrowRight.addEventListener("click",this._events.arrowClick.bind(this,"right")));this.options.control!==null&&this.control.addEventListener("click",this._events.controlClick);!this.mobile&&(this.options.hide||this.options.slideshow)&&(this.carousel.addEventListener("mouseover",this._events.carouselMouseOver),this.carousel.addEventListener("mouseleave",this._events.carouselMouseLeave));this.options.draggable&&(this.mobile?(this.carouselItems.addEventListener("touchstart",this._events.carouselDrag),this.carouselItems.addEventListener("touchend",this._events.carouselMouseUp),this.carouselItems.addEventListener("touchmove",this._events.carouselMouseMove)):(this.carouselItems.addEventListener("dragstart",this._events.carouselDrag),this.carouselItems.addEventListener("mouseup",this._events.carouselMouseUp),this.carouselItems.addEventListener("mousemove",this._events.carouselMouseMove)));this.carousel.addEventListener("click",this._events.carouselClick)}function o(){this.options.resizeable&&window.removeEventListener("resize",this._events.windowResize);this.options.arrow&&(this.arrowLeft.removeEventListener("click",this._events.arrowClick.bind(this,"left")),this.arrowRight.removeEventListener("click",this._events.arrowClick.bind(this,"right")));this.options.control!==null&&this.control.removeEventListener("click",this._events.controlClick);!this.mobile&&(this.options.hide||this.options.slideshow)&&(this.carousel.removeEventListener("mouseover",this._events.carouselMouseOver),this.carousel.removeEventListener("mouseleave",this._events.carouselMouseLeave));this.options.draggable&&(this.mobile?(this.carouselItems.removeEventListener("touchstart",this._events.carouselDrag),this.carouselItems.removeEventListener("touchend",this._events.carouselMouseUp),this.carouselItems.removeEventListener("touchmove",this._events.carouselMouseMove)):(this.carouselItems.removeEventListener("dragstart",this._events.carouselDrag),this.carouselItems.removeEventListener("mouseup",this._events.carouselMouseUp),this.carouselItems.removeEventListener("mousemove",this._events.carouselMouseMove)));this.carousel.removeEventListener("click",this._events.carouselClick)}function s(n){n==="right"?this.next():n==="left"&&this.prev()}function h(){r.call(this)}function c(n){if(n.target&&n.target.classList.contains("control-item")){let t=Array.prototype.slice.call(this.control.children).indexOf(n.target);t=this.options.loop?t+1:t;this.moveTo(t)}}function l(n){this.locked&&n.target.parentNode.nodeName==="A"&&n.preventDefault()}function a(n){this.stopped=!0;this.positionXStart=this.mobile?n.touches[0].clientX:n.pageX;n.preventDefault()}function v(n){this.positionXEnd=this.mobile?n.touches[0].clientX:n.pageX;nt.call(this)}function y(){this.stopped=!1;g.call(this)}function p(){this.options.hide&&this.controlContent.classList.add("active");this.stopped=!0}function w(){this.positionXStart>0&&(this.positionXStart=0,this.moveTo(this.index));this.options.hide&&this.controlContent.classList.remove("active");this.stopped=!1}function b(){this.carouselItems.removeEventListener("animationend",this._events.transitionEnd);this.carouselItems.classList.remove("animation-transition");i&&(this.options.loop?(this.index=n,n===this.carouselItems.children.length-1?this.index=1:n===0&&(this.index=this.carouselItems.children.length-2),n!==this.index&&(this.carouselItems.style.transform=`translateX(-${this.width*this.index}px)`)):u.call(this),k.call(this));this.locked=!1}function r(){this.width=this.carousel.clientWidth;let n=[];for(let t=0;t<this.items.length;t++)this.items[t].style.width=this.width+"px",n.push(`<span class="control-item ${this.options.control}${t===0?" active":""}">${/number/.test(this.options.control)?t+1:""}</span>`);if(this.options.control!==null&&(this.control.innerHTML=n.join("")),this.options.slideshow&&(this.slideshow=this.carousel.dataset.slideshow!==undefined?this.carousel.dataset.slideshow:this.slideshow,d.call(this)),this.options.loop){let n=this.carouselItems.querySelectorAll(".item-clone");for(let t=0;t<n.length;t++)n[t].style.width=this.width+"px";this.carouselItems.style.transform=`translateX(-${this.width}px)`;this.index=1}else this.options.arrow&&u.call(this);this.carouselItems.style.width=this.width*this.carouselItems.children.length+"px"}function k(){if(this.options.control!==null){let t=this.control.children,i=this.options.loop?this.index-1:this.index,n=this.control.querySelectorAll(".active")[0];n!==undefined&&n.classList.remove("active");t[i].classList.add("active")}}function u(){this.options.arrow&&(this.carouselItems.children.length<1?(this.arrowLeft.classList.remove("d-none"),this.arrowRight.classList.remove("d-none")):this.index===0?this.arrowLeft.classList.add("d-none"):this.index===this.carouselItems.children.length-1?this.arrowRight.classList.add("d-none"):(this.arrowLeft.classList.remove("d-none"),this.arrowRight.classList.remove("d-none")))}function d(){let n=this;setInterval(function(){n.stopped||n.next()},this.slideshow)}function g(){let t=(this.positionXEnd-this.positionXStart)*2;this.positionXStart>0&&(i=!1,t>this.distance?this.prev():t<-this.distance?this.next():(n=this.index,this.carouselItems.classList.add("animation-transition"),this.carouselItems.style.transform=`translateX(-${this.width*this.index}px)`,this.carouselItems.addEventListener("transitionend",this._events.transitionEnd)),this.positionXStart=0)}function nt(){if(this.positionXStart>0){let n=this.carouselItems.children.length;if(this.options.loop||this.index>=0&&this.index<n){let t=this.index*this.width,i=this.positionXEnd-this.positionXStart;t-i<=this.width*(n-1)&&(this.carouselItems.style.transform=`translateX(-${t-i}px)`)}}}function tt(){for(var t,n=1;n<arguments.length;n++)for(t in arguments[n])arguments[n].hasOwnProperty(t)&&(arguments[0][t]=arguments[n][t]);return arguments[0]}function it(){return function(n){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4)))&&(check=!0)}(navigator.userAgent||navigator.vendor||window.opera),!1}let i=!1,n=0;return t.prototype.init=function(){return this.carousel!==undefined&&this.carousel.children.length>1&&(f.call(this),r.call(this),e.call(this)),this},t.prototype.destroy=function(){this.carousel!==null&&(o.call(this),this.carousel.parentNode.removeChild(this.carousel),this.carousel=null)},t.prototype.moveTo=function(t){this.locked||(i=!0,this.locked=!0,this.carouselItems.classList.add("animation-transition"),this.options.loop?n=t:(this.index=t>=this.carouselItems.children.length?this.options.rewind?0:this.carouselItems.children.length-1:t<0?this.options.rewind?this.carouselItems.children.length-1:0:t,n=this.index),this.carouselItems.style.transform=`translateX(-${this.width*n}px)`,this.carouselItems.addEventListener("transitionend",this._events.transitionEnd))},t.prototype.next=function(){return this.moveTo(this.index+1),this},t.prototype.prev=function(){return this.moveTo(this.index-1),this},{init:t}});