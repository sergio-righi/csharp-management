(function(n,t){typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t():n.stepper=t()})(this,function(){function n(n,t){this.step=0;this.stepper=n;this.options=f({},{onClick:null,onAfterMove:null,onBeforeMove:null},t);this.init()}function t(){this._events={headerClick:r.bind(this)};this.locked||this.stepper.addEventListener("click",this._events.headerClick)}function i(){this.locked||this.stepper.removeEventListener("click",this._events.headerClick)}function r(n){if(n.target&&n.target.classList.contains("step-header")){let t=u(n.target,"step");if(t!==undefined){let n=Array.from(this.items).indexOf(t);n===-1||n===this.getStep()||t.classList.contains("disabled")||this.moveTo(n)}}}function u(n,t){while((n=n.parentElement)&&!n.classList.contains(t));return n}function f(){for(var t,n=1;n<arguments.length;n++)for(t in arguments[n])arguments[n].hasOwnProperty(t)&&(arguments[0][t]=arguments[n][t]);return arguments[0]}return n.prototype.init=function(){return this.moveTo(this.getStep()),this.items=Array.prototype.slice.call(this.stepper.querySelectorAll(".step"),0),this.linear=this.stepper.dataset.linear!==undefined,this.locked=this.stepper.dataset.locked!==undefined,t.call(this),this},n.prototype.destroy=function(){this.stepper!==undefined&&(i.call(this),this.stepper.parentNode.removeChild(this.stepper),this.stepper=null)},n.prototype.getStep=function(){const n=this.stepper.getAttribute("data-step");return n===null?0:parseInt(n,10)},n.prototype.setStep=function(n){n=parseInt(n===null?0:n,10);this.stepper.setAttribute("data-step",n)},n.prototype.setStatus=function(n,t){let i=this.getStep();this.items[n]!==undefined&&this.items[n].classList.add(t)},n.prototype.prev=function(){let n=this.getStep();return n-1>=0&&this.moveTo(n-1),this},n.prototype.next=function(){let n=this.getStep();return n+1<=this.items.length-1&&(this.items[n].classList.add("active"),this.moveTo(n+1)),this},n.prototype.moveTo=function(n){let t=this.getStep();if(t!==n){let r=!1;typeof this.options.onBeforeMove=="function"&&this.options.onBeforeMove.call(this);let i=this.items[n];this.linear&&n===t+1&&(this.items[t].className="step success",r=!0);let u=i.previousElementSibling===null?i:i.previousElementSibling;(!this.linear||this.linear&&(u.classList.contains("success")||i.classList.contains("success")))&&(i.classList.add("active"),this.items[t].classList.remove("active"),this.setStep(n),r=!0);r&&typeof this.options.onAfterMove=="function"&&this.options.onAfterMove.call(this)}},{init:n}});