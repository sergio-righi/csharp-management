(function(n,t){typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t():n.range=t()})(this,function(){function n(n){this.timer=null;this.element=n;this.init()}function r(){this.element.classList.add("d-none");this.range=document.createElement("div");this.range.className="range";this.bar=document.createElement("div");this.bar.className="bar";this.pointer=document.createElement("div");this.pointer.className="pointer";this.bar.appendChild(this.pointer);this.range.appendChild(this.bar);this.element.parentNode.insertBefore(this.range,this.element.nextSibling);this.setValue(this.element.value)}function u(){this._events={windowMouseup:e.bind(this),rangeMousedown:o.bind(this),windowMousemove:s.bind(this)};this.range.addEventListener("mousedown",this._events.rangeMousedown);window.addEventListener("mouseup",this._events.windowMouseup);window.addEventListener("mousemove",this._events.windowMousemove)}function f(){this.range.removeEventListener("mousedown",this._events.rangeMousedown);window.removeEventListener("mouseup",this._events.windowMouseup);window.removeEventListener("mousemove",this._events.windowMousemove)}function e(){this.range.classList.contains("active")&&(this.range.classList.remove("active"),i.call(this))}function o(n){n.preventDefault();i.call(this);let r=n.pageX||n.touches[0].pageX,u=r-this.range.offset().left;t.call(this,u);this.range.setAttribute("data-distance",r);this.range.classList.add("active")}function s(n){if(this.range.classList.contains("active")){i.call(this);let r=n.pageX||n.touches[0].pageX,u=parseFloat(this.range.dataset.distance,10),f=r-u+this.bar.clientWidth;t.call(this,f);this.range.setAttribute("data-distance",r)}}function t(n){let t=this.range.clientWidth;n=Math.max(n>=t?t:n,0);let i=n/t;this.bar.style.width=`${i*100}%`;this.element.value=i*parseFloat(this.options.max,10);this.pointer.setAttribute("data-value",this.element.value)}function i(){document.selection?document.selection.empty():window.getSelection().removeAllRanges()}function h(){let n=this.element.min!==undefined?parseFloat(this.element.min,10):0,t=this.element.max!==undefined?parseFloat(this.element.max,10):0,i=this.element.step!==undefined?parseFloat(this.element.step,10):0;this.options={min:n,max:t,step:i}}return n.prototype.init=function(){if(this.element!==undefined)return h.call(this),r.call(this),this.element.hasAttribute("disabled")||this.element.hasAttribute("readonly")||u.call(this),this},n.prototype.destroy=function(){this.range!==null&&(f.call(this),this.range.parentNode.removeChild(this.range),this.range=null)},n.prototype.setValue=function(n){t.call(this,this.range.clientWidth*(n/this.options.max))},Element.prototype.offset=function(){let n=this.getBoundingClientRect(),t=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:n.top+i,left:n.left+t}},{init:n}});