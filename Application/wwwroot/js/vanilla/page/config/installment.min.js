function getInstallment(n,t,i){let r=new XMLHttpRequest;t=t.toDate().toDateString();t.isDate()&&(r.open("POST",String.format(route_config_installment,n,t,i),!0),r.responseType="json",r.onload=function(){r.status===200&&new modal.get(configInstallment).setContent(r.response.content)},r.send())}function setInstallment(){}function setDisabled(){isQuantityInstallment&&isDateInstallment?quantityInstallment.nextElementSibling.removeAttribute("disabled"):quantityInstallment.nextElementSibling.setAttribute("disabled",!0)}function quantityInstallmentEvent(n){isQuantityInstallment=parseInt(n.value)>0?!0:!1;setDisabled()}function dateInstallmentEvent(n){let t=n.value.toDate();isDateInstallment=t.toDateString().isDate()?!0:!1;setDisabled()}function saveInstallmentSuccess(n){if(n.isSuccess){let t=new modal.get(configInstallment);document.getElementById("message").innerHTML=n.feedback;t.close()}}let configInstallment=null,isDateInstallment=!1,isQuantityInstallment=!1;(function(){dateInstallment=document.getElementById("date_installment");installmentId=document.getElementById("hidden_installment");quantityInstallment=document.getElementById("quantity_installment");configInstallment=document.getElementById("config_installment");new modal.init(configInstallment,{beforeOpen:function(){let n=new modal.get(configInstallment),t=n.trigger.previousElementSibling.value;getInstallment(installmentId.value===""?0:installmentId.value,dateInstallment.value,t)}});quantityInstallment.hasAttribute("disabled")||(isDateInstallment=!0,isQuantityInstallment=!0);quantityInstallment.addEventListener("input",function(){quantityInstallmentEvent(this)});quantityInstallment.addEventListener("blur",function(){quantityInstallmentEvent(this)});quantityInstallment.addEventListener("focus",function(){quantityInstallmentEvent(this)});dateInstallment.addEventListener("input",function(){dateInstallmentEvent(this)});dateInstallment.addEventListener("blur",function(){dateInstallmentEvent(this)});dateInstallment.addEventListener("focus",function(){dateInstallmentEvent(this)})})();